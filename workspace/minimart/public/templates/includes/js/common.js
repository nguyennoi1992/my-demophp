var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="";var k,h,f,j,g,e,d;var b=0;c=Base64._utf8_encode(c);while(b<c.length){k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+this._keyStr.charAt(j)+this._keyStr.charAt(g)+this._keyStr.charAt(e)+this._keyStr.charAt(d)}return a},decode:function(c){var a="";var k,h,f;var j,g,e,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){j=this._keyStr.indexOf(c.charAt(b++));g=this._keyStr.indexOf(c.charAt(b++));e=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));k=(j<<2)|(g>>4);h=((g&15)<<4)|(e>>2);f=((e&3)<<6)|d;a=a+String.fromCharCode(k);if(e!=64){a=a+String.fromCharCode(h)}if(d!=64){a=a+String.fromCharCode(f)}}a=Base64._utf8_decode(a);return a},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a},_utf8_decode:function(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b}};function checkBrowserEnableCookie(){var a=(navigator.cookieEnabled)?true:false;if(typeof navigator.cookieEnabled=="undefined"&&!a){document.cookie="testcookie";a=(document.cookie.indexOf("testcookie")!=-1)?true:false}if(a){return true}else{return false}}function hura_create_cookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+Base64.encode(d)+a+"; path=/;"}function hura_read_cookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return Base64.decode(f.substring(e.length,f.length))}}return null}function hura_erase_cookie(a){hura_create_cookie(a,"",-1)}function countShoppingCart(c){var b=document.getElementById("count_shopping_cart_store");var e=document.getElementById("total_shopping_cart_store");if(hura_read_cookie(c)==null){hura_create_cookie(c,"-",1);if(b!="underfined"&&b!=null){b.innerHTML=0}}else{var g=hura_read_cookie(c);var a=g.split(",");number_product=a.length;if(b!="underfined"&&b!=null){b.innerHTML=number_product-1}if(e!="underfined"&&e!=null){if($("#total_shopping_cart_store").length>0){var f=0;for(var d=0;d<a.length;d++){item_content=a[d];if(item_content.length>1){item_detail=item_content.split("-");item_type=item_detail[0];pro_id=item_detail[1];pro_quantity=parseInt(item_detail[2]);unit_price=parseInt(item_detail[3]);f+=unit_price*pro_quantity}}e.innerHTML=writeStringToPrice(f+"")}}}}function emptyShoppingCart(a){hura_create_cookie(a,"-",1)}function addToShoppingCart(b,a,e,d){if(hura_read_cookie("shopping_cart_store")==null){hura_create_cookie("shopping_cart_store",",",1)}var f=hura_read_cookie("shopping_cart_store");if(f.search(","+b+"-"+a+"-")==-1){var c=f+","+b+"-"+a+"-"+e+"-"+d;hura_create_cookie("shopping_cart_store",c,1);window.location="/gio-hang"}else{alert("Sáº£n pháº©m Ä‘Ã£ cÃ³ trong giá» hÃ ng!")}}function addToShoppingCartStop(b,a,f,d,h){if(hura_read_cookie("shopping_cart_store")==null){hura_create_cookie("shopping_cart_store",",",1)}var g=hura_read_cookie("shopping_cart_store");if(g.search(","+b+"-"+a+"-")==-1){var c=g+","+b+"-"+a+"-"+f+"-"+d;hura_create_cookie("shopping_cart_store",c,1);countShoppingCart("shopping_cart_store");var e=document.getElementById(h);if(typeof(e)!="undefined"&&e!=null){$("#"+h).html("ÄÃ£ thÃªm vÃ o giá» hÃ ng")}}else{alert("Sáº£n pháº©m Ä‘Ã£ cÃ³ trong giá» hÃ ng!")}}function isItemInCart(b,a){var c=hura_read_cookie("shopping_cart_store");if(c!=null&&c.search(","+b+"-"+a+"-")!=-1){document.write("Äang trong giá» hÃ ng")}}function deleteShoppingCartItem(b,a,d,c){if(confirm("Báº¡n muá»‘n xÃ³a bá» sáº£n pháº©m nÃ y khá»i giá» hÃ ng ? ")){removeShoppingCartItem(b,a,d,c);window.location="/gio-hang"}}function removeShoppingCartItem(b,a,e,c){var f=hura_read_cookie("shopping_cart_store");f+=",";var d=new RegExp(","+b+"-"+a+"-([0-9]+)-([0-9]+),","i");new_cart=f.replace(d,",");new_cart=new_cart.substr(0,new_cart.length-1);hura_create_cookie("shopping_cart_store",new_cart,1)}function writeStringToPrice(f){var e=f.substr(0,f.length%3);var b=f.replace(e,"");var d=b.length/3;var a="";for(var c=0;c<d;c++){group_of_three=b.substr(c*3,3);a+=group_of_three;if(c!=(d-1)){a+="."}}if(e.length>0){if(a!=""){return e+"."+a}else{return e}}else{if(a!=""){return a}else{return""}}}function getItemUnitPrice(a,c){var b=document.getElementById("sell_price_"+a+"_"+c).innerHTML;while(b.indexOf(".")>0){b=b.replace(".","")}b=parseInt(b);return b}function getItemQuantity(a,c){var b=document.getElementById("quantity_"+a+"_"+c).value;b=parseInt(b);return b}function updatePrice(b,e,d){if(!check_interger(d)){alert("Vui lÃ²ng nháº­p sá»‘ > 0");d=1;$("#quantity_"+b+"_"+e).val(d)}show_cart_total(b,e,d);var a=$("#discount_code").val();if(a.length>0){var c=document.getElementById("total_value").innerHTML;while(c.indexOf(".")>0){c=c.replace(".","")}check_discount("coupon",a,parseInt(c))}}function show_cart_total(a,c,b){unit_price=getItemUnitPrice(a,c);document.getElementById("price_"+a+"_"+c).innerHTML=writeStringToPrice(unit_price*b+"");reCountTotal()}function updatePriceAndCheckStock(b,e,c,a,d){if(!check_interger(c)){alert("Vui lÃ²ng nháº­p sá»‘ > 0");c=d;$("#quantity_"+b+"_"+e).val(d)}else{if(c>a){alert("Hiá»‡n táº¡i trong kho chá»‰ cÃ³ "+a+" sáº£n pháº©m nÃ y, quÃ½ khÃ¡ch vui lÃ²ng nháº­p láº¡i");c=d;$("#quantity_"+b+"_"+e).val(d)}}show_cart_total(b,e,c)}function check_interger(b){var a=/^\d+$/;if(a.test(b)){if(parseInt(b)>0){return true}else{return false}}return false}function reCountTotal(){var b="";var a=document.getElementById("item_update_quantity").value;all_item_array=a.split(",");var e=0;combo_array=new Array();for(var d=0;d<all_item_array.length;d++){item_id=all_item_array[d];if(item_id.length>0){unformat_price=document.getElementById("sell_price_"+item_id.replace("-","_")).innerHTML;while(unformat_price.indexOf(".")>0){unformat_price=unformat_price.replace(".","")}item_price=parseInt(unformat_price);item_quantity=parseInt(document.getElementById("quantity_"+item_id.replace("-","_")).value);b+=","+item_id+"-"+item_quantity+"-"+item_price;e+=item_price*item_quantity}}hura_create_cookie("shopping_cart_store",b,1);document.getElementById("total_value").innerHTML=writeStringToPrice(e+"");document.getElementById("total_cart_value").value=e;var c=document.getElementById("total_shopping_cart_store");if(c!="undefined"&&c!=null){c.innerHTML=writeStringToPrice(e+"")}}function isNumber(a){return !isNaN(parseFloat(a))&&isFinite(a)}function makeUrlAcceptQuery(a){if(a.search("?")>0){return a}else{return a+"?"}}function checkCartForm(){var f=hura_read_cookie("shopping_cart_store");var a=f.split(",");number_product=a.length;if(number_product<=1){if(confirm("Giá» hÃ ng chÆ°a cÃ³ sáº£n pháº©m. Vui lÃ²ng chá»n sáº£n pháº©m vÃ o giá» hÃ ng")){window.location="/"}return false}else{var c="";var d=document.getElementById("buyer_name").value;if(d.length<4){c+="- Báº¡n chÆ°a nháº­p tÃªn\n"}var b=document.getElementById("buyer_mobile").value;if(b.length<5){c+="- Báº¡n chÆ°a nháº­p sá»‘ di Ä‘á»™ng\n"}var e=document.getElementById("buyer_address").value;if(e.length<10){c+="- Báº¡n chÆ°a nháº­p Ä‘á»‹a chá»‰"}if(c!=""){alert(c);return false}return true}}function add_compare_product(c){var e=document.getElementById("product_compare_list");if(e=="undefined"||e==null){alert("Cáº§n cÃ³ biáº¿n product_compare_list trong template");return false}if(e.value==""){e.value=","}var d=0;if(e.value.length>1){current_list_id=e.value.split(",");d=current_list_id.length-1}var a=document.getElementById("compare_box_"+c);var b=document.getElementById("text_compare_"+c);if(a.checked){if(d>6){a.checked="";alert("Báº¡n chá»‰ cÃ³ thá»ƒ so sÃ¡nh tá»‘i Ä‘a 6 sáº£n pháº©m\nDanh sÃ¡ch Ä‘Ã£ cÃ³ Ä‘á»§ 6")}else{document.getElementById("product_compare_list").value=e.value+c+",";if(b!="undefined"&&b!=null){b.innerHTML="Chá» so sÃ¡nh";b.style.backgroundColor="#FFCC00"}}}else{document.getElementById("product_compare_list").value=e.value.replace(","+c+",",",");if(b!="undefined"&&b!=null){b.innerHTML="Chá»n so sÃ¡nh ";b.style.backgroundColor="#FFF"}}}function compare_product(){var b=document.getElementById("product_compare_list");if(b=="undefined"||b==null){alert("Cáº§n cÃ³ biáº¿n product_compare_list trong template");return false}var a=0;if(b.value.length>1){current_list_id=b.value.split(",");a=current_list_id.length-2}if(a>1){window.location="/so-sanh?list="+b.value}else{alert("Báº¡n cáº§n chá»n tá»‘i thiá»ƒu 2 sáº£n pháº©m Ä‘á»ƒ so sÃ¡nh");return false}}function save_product_view_history(b){if(!check_interger(b)){return false}var d="product_view_history";if(hura_read_cookie(d)==null){hura_create_cookie(d,",",1)}var c=hura_read_cookie(d);if(c.search(","+b+",")==-1){var a=c+","+b+",";hura_create_cookie(d,a,1)}}function remove_from_history(b){if(confirm("Báº¡n cháº¯c cháº¯n muá»‘n xÃ³a sáº£n pháº©m nÃ y ?")){if(!check_interger(b)){return false}var d="product_view_history";if(hura_read_cookie(d)==null){hura_create_cookie(d,",",1)}var c=hura_read_cookie(d);if(c.search(","+b+",")!=-1){var a=c.replace(","+b+",",",");hura_create_cookie(d,a,1)}window.location=window.location}}function user_like_content(a,b){$.post("/ajax/user_like.php",{item_id:a,content_type:b},function(c){if(c=="error-not-login"){if(confirm("Äá»ƒ sá»­ dá»¥ng chá»©c nÄƒng nÃ y báº¡n cáº§n Ä‘Äƒng nháº­p. Click OK Ä‘á»ƒ Ä‘Äƒng nháº­p")){window.location="/dang-nhap?returnTo="+window.location}}else{if(c=="error-has-liked"){alert("Báº¡n Ä‘Ã£ lÆ°u rá»“i")}else{alert("Báº¡n Ä‘Ã£ lÆ°u thÃ nh cÃ´ng")}}})}function user_vote_review(b,a){$.post("/ajax/vote_product_review.php",{review_id:b,vote:a},function(e){if(e=="error-not-login"){if(confirm("Äá»ƒ sá»­ dá»¥ng chá»©c nÄƒng nÃ y báº¡n cáº§n Ä‘Äƒng nháº­p. Click OK Ä‘á»ƒ Ä‘Äƒng nháº­p")){window.location="/dang-nhap?return_url="+window.location}}else{if(e=="error-has-voted"){alert("Báº¡n Ä‘Ã£ chá»n rá»“i")}else{if(a=="dislike"){message="Báº¡n khÃ´ng Ä‘á»“ng Ã½ vá»›i Ã½ kiáº¿n nÃ y. Báº¡n cÃ³ thá»ƒ muá»‘n viáº¿t Ã½ kiáº¿n cá»§a mÃ¬nh khÃ´ng ?";if(confirm(message)){var c=window.location;var d=encodeURI(c).replace("=review","=write-review");if(d.search("=write-review")==-1){d+="?section=write-review"}window.location=d}}else{alert("Cáº£m Æ¡n báº¡n Ä‘Ã£ bÃ y tá» quan Ä‘iá»ƒm")}}}})}function check_discount(b,c,a){if(b=="coupon"){$("#checking_discount_code").html("vui lÃ²ng Ä‘á»£i...");$.post("ajax/check_coupon.php",{code:c,order:a},function(g){var e=jQuery.parseJSON(g);if(e.error!=""){$("#checking_discount_code").html(e.error);$("#discount_code").val("")}else{var f="";var h=0;var d=document.getElementById("total_value").innerHTML;while(d.indexOf(".")>0){d=d.replace(".","")}switch(e.type){case"pro":f=e.content;break;case"cash":f="Giáº£m "+writeStringToPrice(e.content+"")+" Ä‘";h=parseInt(d)-parseInt(e.content);$("#total_value").html(writeStringToPrice(h+""));break;case"priceoff":f="Giáº£m "+e.content+"%";h=parseInt(d)*parseInt(100-e.content)/100;$("#total_value").html(writeStringToPrice(h+""));break;case"other":f=e.content;break}$("#checking_discount_code").html(e.title+": "+f);$("#discount_message").html(e.title+": "+f)}})}}function loadAjaxContent(d,a){if($("#anchor_top").length>0){var c=$("#anchor_top").offset();var b=c.top;$("html, body").animate({scrollTop:b},500)}$("#"+d).load(a)}function change_captcha(b){var a=new Date().getTime();$("#"+b).attr("src","/includes/captcha/captcha.php?v="+a)}function user_cancel_order(b,a){if(a!="new"){alert("Báº¡n chá»‰ há»§y Ä‘Æ°á»£c Ä‘Æ¡n hÃ ng chÆ°a Ä‘Æ°á»£c xá»­ lÃ½. Vui lÃ²ng liÃªn há»‡ bá»™ pháº­n há»— trá»£ cá»§a chÃºng tÃ´i");return false}if(confirm("Báº¡n cháº¯c cháº¯n muá»‘n há»§y Ä‘Æ¡n hÃ ng nÃ y ?")){$.post("/ajax/user_account.php",{action:"cancel-order",order_id:b,status:a},function(c){alert("Báº¡n Ä‘Ã£ há»§y Ä‘Æ¡n thÃ nh cÃ´ng !")})}}function user_vote_review(b,a){$.post("/ajax/vote_product_review.php",{review_id:b,vote:a},function(e){if(e=="error-not-login"){if(confirm("Äá»ƒ sá»­ dá»¥ng chá»©c nÄƒng nÃ y báº¡n cáº§n Ä‘Äƒng nháº­p. Click OK Ä‘á»ƒ Ä‘Äƒng nháº­p")){window.location="/dang-nhap?return_url="+window.location}}else{if(e=="error-has-voted"){alert("Báº¡n Ä‘Ã£ chá»n rá»“i")}else{if(a=="dislike"){message="Báº¡n khÃ´ng Ä‘á»“ng Ã½ vá»›i Ã½ kiáº¿n nÃ y. Báº¡n cÃ³ thá»ƒ muá»‘n viáº¿t Ã½ kiáº¿n cá»§a mÃ¬nh khÃ´ng ?";if(confirm(message)){var c=window.location;var d=encodeURI(c).replace("=review","=write-review");if(d.search("=write-review")==-1){d+="?section=write-review"}window.location=d}}else{alert("Cáº£m Æ¡n báº¡n Ä‘Ã£ bÃ y tá» quan Ä‘iá»ƒm")}}}})}function get_product_category(b,a){$.get("/ajax/get_product_category.php",{cat_id:b},function(c){$("#"+a).append(c)})}if(window.top!==window.self){window.top.location.replace(window.self.location.href)}$(document).ready(function(){countShoppingCart("shopping_cart_store")});